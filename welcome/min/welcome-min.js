"use strict";angular.module("myWishListApp.welcome",["ngRoute","firebase"]).config(["$routeProvider",function(e){e.when("/welcome",{templateUrl:"welcome/welcome.html",controller:"WelcomeCtrl"})}]).controller("WelcomeCtrl",["$scope","$location","$firebaseAuth","$firebaseArray",function(e,t,o,n,s,l){function i(){e.emails=n(f);var t=n(f);localStorage.setItem("user",f)}function c(){r.$unauth(),console.log("done logout")}function a(){document.getElementById("slideOutMenu").style.visibility="hidden",document.getElementById("slideOutMenu").removeEventListener("transitionend",a)}var u=new Firebase("https://mywishlistlg.firebaseio.com/"),m=new Firebase("https://mywishlistlg.firebaseio.com/disconnectmessage"),d=new Firebase("https://mywishlistlg.firebaseio.com/.info/connected"),r=o(u),g=u.getAuth();console.log("Authenticated user with uid: WELCOME",g,g.password.email,g.uid),e.listName="Welcome: "+g.password.email;var h=g.password.email,y,w=new Firebase("https://mywishlistlg.firebaseio.com/theUsers"),f=w.orderByChild("email").equalTo(g.password.email);m.onDisconnect().set("I disconnected!"),d.on("value",function(e){e.val()===!0?console.log("connected"):(console.log("not connected"),t.path("/home"))}),i(),e.logMeOut=function(){c()},e.getLists=function(t){console.log(t);var o=new Firebase("https://mywishlistlg.firebaseio.com/theUsers/"+t+"/yourCategories/");e.lists=n(o)},e.grabList=function(e){whichList=e,localStorage.setItem("selectedList",whichList),console.log(localStorage.getItem("selectedList")),localStorage?"noCategories"==whichList?t.path("/selectCat"):(console.log("grabList"+whichList),t.path("/fullList")):t.path("/welcome")},w.on("child_added",function(e){var t=e.val();console.log("Author: "+t.email)}),e.gotSelectCat=function(){t.path("/selectCat")},e.showMyLists=function(){t.path("/welcome")},e.showMenu=function(){document.getElementById("myMenu").style.display="none",document.getElementById("myMenuClose").style.display="block",document.getElementById("slideOutMenu").style.opacity="1",document.getElementById("slideOutMenu").style.visibility="visible"},e.closeMenu=function(){document.getElementById("myMenu").style.display="block",document.getElementById("myMenuClose").style.display="none",document.getElementById("slideOutMenu").style.opacity="0",document.getElementById("slideOutMenu").addEventListener("transitionend",a)}}]);